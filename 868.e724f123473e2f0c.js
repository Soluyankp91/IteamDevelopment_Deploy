"use strict";(self.webpackChunkTT=self.webpackChunkTT||[]).push([[868],{9868:(K,L,e)=>{e.r(L),e.d(L,{FilmsModule:()=>z});var f=e(6895),p=e(7748),x=e(9300),o=e(6814);const d=(0,o.ZF)("films"),v=(0,o.P1)(d,n=>n.result),C=(0,o.P1)(d,n=>n.isLoading),O=(0,o.P1)(d,n=>n.error),l=(0,o.R7)({source:"Films Page",events:{"Films Load":(0,o.uZ)(),"Films Loaded Success":(0,o.Ky)(),"Films Loaded Error":(0,o.Ky)(),NO_OP_CACHE:(0,o.uZ)()}});var t=e(1571),Z=e(1572),g=e(3646);function A(n,s){1&n&&(t.ynx(0),t._UZ(1,"mat-spinner",4),t.BQk())}function T(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.BQk()),2&n){const c=s.ngIf;t.xp6(2),t.Oqu(c.message)}}function I(n,s){if(1&n&&(t.YNc(0,T,3,1,"ng-container",1),t.ALo(1,"async")),2&n){const c=t.oxw(),r=t.MAs(6);t.Q6J("ngIf",t.lcZ(1,2,c.error$))("ngIfElse",r)}}function $(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-list-item")(2,"span",6),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()(),t.BQk()),2&n){const c=s.$implicit;t.xp6(2),t.Q6J("routerLink",c.uid),t.xp6(1),t.Oqu(c.properties.title),t.xp6(2),t.Oqu(c.description)}}function P(n,s){if(1&n&&(t.TgZ(0,"h3"),t._uU(1,"Films list"),t.qZA(),t.TgZ(2,"mat-list"),t.YNc(3,$,6,3,"ng-container",5),t.ALo(4,"async"),t.qZA()),2&n){const c=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,c.films$))}}const M=[{path:"",component:(()=>{const s=class{constructor(r){this.store=r,this.films$=this.store.select(v).pipe((0,x.h)(i=>!!i)),this.isLoading$=this.store.select(C),this.error$=this.store.select(O),this.dateFormat="dd/MM/yyyy"}ngOnInit(){this.store.dispatch(l.filmsLoad())}};let n=s;return s.\u0275fac=function(i){return new(i||s)(t.Y36(o.yh))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-films"]],decls:7,vars:4,consts:[[1,"wrapper"],[4,"ngIf","ngIfElse"],["content",""],["items",""],["diameter","100",1,"spinner"],[4,"ngFor","ngForOf"],["matListItemTitle","",1,"link",3,"routerLink"]],template:function(i,u){if(1&i&&(t.TgZ(0,"div",0),t.YNc(1,A,2,0,"ng-container",1),t.ALo(2,"async"),t.YNc(3,I,2,4,"ng-template",null,2,t.W1O),t.YNc(5,P,5,3,"ng-template",null,3,t.W1O),t.qZA()),2&i){const m=t.MAs(4);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,u.isLoading$))("ngIfElse",m)}},dependencies:[f.sg,f.O5,Z.Ou,g.i$,g.Tg,g.sL,p.rH,f.Ov],styles:["[_nghost-%COMP%]{display:block;padding:0 10px}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.list-title[_ngcontent-%COMP%]{text-align:center}.wrapper[_ngcontent-%COMP%]{padding:10px}.link[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;text-decoration:none;color:unset}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),n})()},{path:":id",loadChildren:()=>e.e(41).then(e.bind(e,7041)).then(n=>n.FilmDetailsModule)}];let E=(()=>{const s=class{};let n=s;return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[p.Bz.forChild(M),p.Bz]}),n})();const S=(0,o.Lq)({result:null,isLoading:!1,error:null},(0,o.on)(l.filmsLoad,(n,{})=>({...n,isLoading:!0,error:null})),(0,o.on)(l.filmsLoadedSuccess,(n,{films:s})=>({result:s,isLoading:!1,error:null})),(0,o.on)(l.filmsLoadedError,(n,{error:s})=>({...n,isLoading:!1,error:s})),(0,o.on)(l.no_op_cache,n=>({...n,isLoading:!1,error:null})));var a=e(2655),B=e(3900),y=e(9646),Y=e(4004),J=e(262),N=e(6194);let F=(()=>{const s=class{constructor(r,i,u){this.actions$=r,this.apiService=i,this.store=u,this.loadFilms$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(l.filmsLoad),(0,a.IC)(m=>this.store.select(v)),(0,B.w)(([m,h])=>h?.length?(0,y.of)(l.no_op_cache()):this.apiService.getAllMovies$().pipe((0,Y.U)(G=>l.filmsLoadedSuccess({films:G.result})))),(0,J.K)(m=>(0,y.of)(l.filmsLoadedError({error:m.error})))))}};let n=s;return s.\u0275fac=function(i){return new(i||s)(t.LFG(a.eX),t.LFG(N.s),t.LFG(o.yh))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),n})();var U=e(8741);let z=(()=>{const s=class{};let n=s;return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[(0,a.y3)(F)],imports:[f.ez,U.m,E,a.sQ.forFeature(F),o.Aw.forFeature("films",S)]}),n})()}}]);